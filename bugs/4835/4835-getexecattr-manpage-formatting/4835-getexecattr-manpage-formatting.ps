%!PS-Adobe-2.0
%%Creator: codereview on oi
%%CreationDate: Mon May 26 17:39:16 2014
%%For: wmd
%%DocumentFonts: Courier Courier-Bold Courier-Oblique Courier-BoldOblique
%%Pages: (atend)
%%EndComments
%
% PostScript Prologue for lwlp LaserWriter Line Printer
%
/SFT {findfont exch scalefont setfont}bind def
/SWT {( ) stringwidth pop dup /W exch def neg /NW exch def}bind def
/SPG {/SV save def translate dup scale rotate}bind def
/EPG {SV restore}bind def
/FPG {/#copies exch def showpage}bind def
/B {NW 0 rmoveto}def
/M /moveto load def
/T {W mul 0 rmoveto}def
/S /show load def
/Z {0 exch moveto}bind def
/SHD {save 5 1 roll			% S x1 y1 x0 y0
	2 copy moveto			% S x1 y1 x0 y0
	3 index exch lineto		% S x1 y1 x0
	3 -1 roll 2 index lineto	% S y1 x0
	exch lineto			% S
	0.95 setgray fill		% S
	restore}def
%%EndProlog
/FRN {10.526316 /Courier SFT}bind def
/FRB {10.526316 /Courier-Bold SFT}bind def
/FIN {10.526316 /Courier-Oblique SFT}bind def
/FIB {10.526316 /Courier-BoldOblique SFT}bind def
%%Page: ? 1
FRN
0.250000 setlinewidth newpath
0 396 M 612 396 lineto
stroke
SWT 90 0.666666 546 18 SPG
FRB
0 709.47 M
709.47 Z
(new/usr/src/man/man3secdb/getexecattr.3secdb)S
530 709.47 M (1)S
FRN
FIB
0 688.42 M
688.42 Z
(**********************************************************)S
0 677.89 M
677.89 Z
(    8672 Mon May 26 17:39:16 2014)S
0 667.37 M
667.37 Z
(new/usr/src/man/man3secdb/getexecattr.3secdb)S
0 656.84 M
656.84 Z
(4835 getexecattr\(3secdb\): Minor formatting issues)S
0 646.32 M
646.32 Z
(**********************************************************)S
FRN
635.79 Z
3 T (1)S 1 T ('\\" te)S
625.26 Z
3 T (2)S 1 T (.\\" Copyright \(c\) 2005, Sun Microsystems, Inc.  All Rights Reserved.)S
614.74 Z
3 T (3)S 1 T (.\\" The contents of this file are subject to the terms of the Common Development)S
604.21 Z
3 T (4)S 1 T (.\\" You can obtain a copy of the license at usr/src/OPENSOLARIS.LICENSE or http:)S
593.68 Z
3 T (5)S 1 T (.\\" When distributing Covered Code, include this CDDL HEADER in each file and in)S
583.16 Z
3 T (6)S 1 T (.TH GETEXECATTR 3SECDB "Mar 31, 2005")S
572.63 Z
3 T (7)S 1 T (.SH NAME)S
562.11 Z
3 T (8)S 1 T (getexecattr, free_execattr, setexecattr, endexecattr, getexecuser, getexecprof,)S
551.58 Z
3 T (9)S 1 T (match_execattr \\- get execution profile entry)S
541.05 Z
2 T (10)S 1 T (.SH SYNOPSIS)S
530.53 Z
2 T (11)S 1 T (.LP)S
520.00 Z
2 T (12)S 1 T (.nf)S
509.47 Z
2 T (13)S 1 T (cc [ \\fIflag\\fR... ] \\fIfile\\fR... -lsecdb  -lsocket  -lnsl  [ \\fIlibrary\\fR... )S
498.95 Z
2 T (14)S 1 T (#include <exec_attr.h>)S
488.42 Z
2 T (15)S 1 T (#include <secdb.h>)S
467.37 Z
2 T (17)S 1 T (\\fBexecattr_t *\\fR\\fBgetexecattr\\fR\(\\fBvoid\\fR\);)S
456.84 Z
2 T (18)S 1 T (.fi)S
435.79 Z
2 T (20)S 1 T (.LP)S
425.26 Z
2 T (21)S 1 T (.nf)S
414.74 Z
2 T (22)S 1 T (\\fBvoid\\fR \\fBfree_execattr\\fR\(\\fBexecattr_t *\\fR\\fIep\\fR\);)S
404.21 Z
2 T (23)S 1 T (.fi)S
383.16 Z
2 T (25)S 1 T (.LP)S
372.63 Z
2 T (26)S 1 T (.nf)S
362.11 Z
2 T (27)S 1 T (\\fBvoid\\fR \\fBsetexecattr\\fR\(\\fBvoid\\fR\);)S
351.58 Z
2 T (28)S 1 T (.fi)S
330.53 Z
2 T (30)S 1 T (.LP)S
320.00 Z
2 T (31)S 1 T (.nf)S
309.47 Z
2 T (32)S 1 T (\\fBvoid\\fR \\fBendexecattr\\fR\(\\fBvoid\\fR\);)S
298.95 Z
2 T (33)S 1 T (.fi)S
277.90 Z
2 T (35)S 1 T (.LP)S
267.37 Z
2 T (36)S 1 T (.nf)S
256.84 Z
2 T (37)S 1 T (\\fBexecattr_t *\\fR\\fBgetexecuser\\fR\(\\fBconst char *\\fR\\fIusername\\fR, \\fBconst c)S
246.32 Z
2 T (38)S 1 T (     \\fBconst char *\\fR\\fIid\\fR, \\fBint\\fR \\fIsearch_flag\\fR\);)S
235.79 Z
2 T (39)S 1 T (.fi)S
214.74 Z
2 T (41)S 1 T (.LP)S
204.21 Z
2 T (42)S 1 T (.nf)S
193.68 Z
2 T (43)S 1 T (\\fBexecattr_t *\\fR\\fBgetexecprof\\fR\(\\fBconst char *\\fR\\fIprofname\\fR, \\fBconst c)S
183.16 Z
2 T (44)S 1 T (     \\fBconst char *\\fR\\fIid\\fR, \\fBint\\fR \\fIsearch_flag\\fR\);)S
172.63 Z
2 T (45)S 1 T (.fi)S
151.58 Z
2 T (47)S 1 T (.LP)S
141.05 Z
2 T (48)S 1 T (.nf)S
130.53 Z
2 T (49)S 1 T (\\fBexecattr_t *\\fR\\fBmatch_execattr\\fR\(\\fBexecattr_t *\\fR\\fIep\\fR, \\fBchar *\\fR\\)S
120.00 Z
2 T (50)S 1 T (     \\fBchar *\\fR\\fItype\\fR, \\fBchar *\\fR\\fIid\\fR\);)S
109.47 Z
2 T (51)S 1 T (.fi)S
88.42 Z
2 T (53)S 1 T (.SH DESCRIPTION)S
77.90 Z
2 T (54)S 1 T (.sp)S
67.37 Z
2 T (55)S 1 T (.LP)S
56.84 Z
2 T (56)S 1 T (The \\fBgetexecattr\(\)\\fR function returns a single \\fBexec_attr\\fR\(4\) entry.)S
46.32 Z
2 T (57)S 1 T (Entries can come from any of the sources specified in the)S
35.79 Z
2 T (58)S 1 T (\\fBnsswitch.conf\\fR\(4\) file.)S
25.26 Z
2 T (59)S 1 T (.sp)S
14.74 Z
2 T (60)S 1 T (.LP)S
4.21 Z
2 T (61)S 1 T (Successive calls to \\fBgetexecattr\(\)\\fR return either successive)S
EPG
FRN
SWT 90 0.666666 546 414 SPG
FRB
0 709.47 M
709.47 Z
(new/usr/src/man/man3secdb/getexecattr.3secdb)S
530 709.47 M (2)S
FRN
688.42 Z
2 T (62)S 1 T (\\fBexec_attr\\fR entries or \\fINULL\\fR. Because \\fBgetexecattr\(\)\\fR always)S
677.89 Z
2 T (63)S 1 T (returns a single entry, the \\fBnext\\fR pointer in the  \\fBexecattr_t\\fR data)S
667.37 Z
2 T (64)S 1 T (structure points to \\fINULL\\fR.)S
656.84 Z
2 T (65)S 1 T (.sp)S
646.32 Z
2 T (66)S 1 T (.LP)S
635.79 Z
2 T (67)S 1 T (The internal representation of an \\fBexec_attr\\fR entry is an \\fBexecattr_t\\fR)S
625.26 Z
2 T (68)S 1 T (structure defined in  <\\fBexec_attr.h\\fR> with the following members:)S
614.74 Z
2 T (69)S 1 T (.sp)S
604.21 Z
2 T (70)S 1 T (.in +2)S
593.68 Z
2 T (71)S 1 T (.nf)S
583.16 Z
2 T (72)S 1 T (char              *name;   /* name of the profile */)S
572.63 Z
2 T (73)S 1 T (char              *type;   /* type of profile */)S
562.11 Z
2 T (74)S 1 T (char              *policy; /* policy under which the attributes are */)S
551.58 Z
2 T (75)S 1 T (                           /* relevant*/)S
541.05 Z
2 T (76)S 1 T (char              *res1;   /* reserved for future use */)S
530.53 Z
2 T (77)S 1 T (char              *res2;   /* reserved for future use */)S
520.00 Z
2 T (78)S 1 T (char              *id;     /* unique identifier */)S
509.47 Z
2 T (79)S 1 T (kva_t             *attr;   /* attributes */)S
498.95 Z
2 T (80)S 1 T (struct execattr_s *next;   /* optional pointer to next profile */)S
488.42 Z
2 T (81)S 1 T (.fi)S
477.89 Z
2 T (82)S 1 T (.in -2)S
456.84 Z
2 T (84)S 1 T (.sp)S
446.32 Z
2 T (85)S 1 T (.LP)S
435.79 Z
2 T (86)S 1 T (The \\fBfree_execattr\(\)\\fR function releases memory. It follows the \\fBnext\\fR)S
425.26 Z
2 T (87)S 1 T (pointers in the \\fBexecattr_t\\fR structure so that the entire linked list is)S
414.74 Z
2 T (88)S 1 T (released.)S
404.21 Z
2 T (89)S 1 T (.sp)S
393.68 Z
2 T (90)S 1 T (.LP)S
383.16 Z
2 T (91)S 1 T (The \\fBsetexecattr\(\)\\fR function "rewinds" to the beginning of the enumeration)S
372.63 Z
2 T (92)S 1 T (of \\fBexec_attr\\fR entries. Calls to \\fBgetexecuser\(\)\\fR can leave the)S
362.11 Z
2 T (93)S 1 T (enumeration in an indeterminate state. Therefore, \\fBsetexecattr\(\)\\fR should be)S
351.58 Z
2 T (94)S 1 T (called before the first call to \\fBgetexecattr\(\)\\fR.)S
341.05 Z
2 T (95)S 1 T (.sp)S
330.53 Z
2 T (96)S 1 T (.LP)S
320.00 Z
2 T (97)S 1 T (The \\fBendexecattr\(\)\\fR function can be called to indicate that \\fBexec_attr\\fR)S
309.47 Z
2 T (98)S 1 T (processing is complete; the library can then close any open \\fBexec_attr\\fR)S
298.95 Z
2 T (99)S 1 T (file, deallocate any internal storage, and so forth.)S
288.42 Z
1 T (100)S 1 T (.sp)S
277.90 Z
1 T (101)S 1 T (.LP)S
267.37 Z
1 T (102)S 1 T (The \\fBgetexecuser\(\)\\fR function returns a linked list of entries that match)S
256.84 Z
1 T (103)S 1 T (the \\fItype\\fR and \\fIid\\fR arguments and have a profile that has been assigned)S
246.32 Z
1 T (104)S 1 T (to the user specified by \\fIusername\\fR, as described in \\fBpasswd\\fR\(4\).)S
235.79 Z
1 T (105)S 1 T (Profiles for the user are obtained from the list of default profiles in)S
225.26 Z
1 T (106)S 1 T (\\fB/etc/security/policy.conf\\fR \(see \\fBpolicy.conf\\fR\(4\)\) and the)S
214.74 Z
1 T (107)S 1 T (\\fBuser_attr\\fR\(4\) database. Only entries in the name service scope for which)S
204.21 Z
1 T (108)S 1 T (the corresponding profile entry is found in the \\fBprof_attr\\fR\(4\) database are)S
193.68 Z
1 T (109)S 1 T (returned.)S
183.16 Z
1 T (110)S 1 T (.sp)S
172.63 Z
1 T (111)S 1 T (.LP)S
162.11 Z
1 T (112)S 1 T (The \\fBgetexecprof\(\)\\fR function returns a linked list of entries that match)S
151.58 Z
1 T (113)S 1 T (the \\fItype\\fR and \\fIid\\fR arguments and have the profile specified by the)S
141.05 Z
1 T (114)S 1 T (\\fIprofname\\fR argument. Only entries in the name service scope for which the)S
130.53 Z
1 T (115)S 1 T (corresponding profile entry is found in the \\fBprof_attr\\fR database are)S
120.00 Z
1 T (116)S 1 T (returned.)S
109.47 Z
1 T (117)S 1 T (.sp)S
98.95 Z
1 T (118)S 1 T (.LP)S
88.42 Z
1 T (119)S 1 T (Using \\fBgetexecuser\(\)\\fR and \\fBgetexecprof\(\)\\fR, programmers can search  for)S
77.90 Z
1 T (120)S 1 T (any \\fItype\\fR argument, such as the manifest constant \\fBKV_COMMAND\\fR. The)S
67.37 Z
1 T (121)S 1 T (arguments are logically AND-ed together so that only entries exactly matching)S
56.84 Z
1 T (122)S 1 T (all of the arguments are returned. Wildcard matching applies if there is no)S
46.32 Z
1 T (123)S 1 T (exact match for an \\fBID\\fR. Any argument can be assigned the \\fINULL\\fR value)S
35.79 Z
1 T (124)S 1 T (to indicate that it is not used as part of the matching criteria. The \\fB\\fR)S
25.26 Z
1 T (125)S 1 T (search_flag controls whether the function returns the first match)S
14.74 Z
1 T (126)S 1 T (\(\\fBGET_ONE\\fR\), setting the \\fBnext\\fR pointer to \\fINULL\\fR or all matching)S
4.21 Z
1 T (127)S 1 T (entries \(\\fBGET_ALL\\fR\), using the \\fBnext\\fR pointer to create a linked list)S
EPG
1 FPG
%%Page: ? 2
FRN
0.250000 setlinewidth newpath
0 396 M 612 396 lineto
stroke
SWT 90 0.666666 546 18 SPG
FRB
0 709.47 M
709.47 Z
(new/usr/src/man/man3secdb/getexecattr.3secdb)S
530 709.47 M (3)S
FRN
688.42 Z
1 T (128)S 1 T (of all entries that meet the search criteria. See  \\fBEXAMPLES\\fR.)S
677.89 Z
1 T (129)S 1 T (.sp)S
667.37 Z
1 T (130)S 1 T (.LP)S
656.84 Z
1 T (131)S 1 T (Once a list of entries is returned by \\fBgetexecuser\(\)\\fR or)S
646.32 Z
1 T (132)S 1 T (\\fBgetexecprof\(\)\\fR, the convenience function \\fBmatch_execattr\(\)\\fR can be)S
635.79 Z
1 T (133)S 1 T (used to identify an individual entry. It returns a pointer to the individual)S
FRB
0 622.11 540 632.63 SHD
625.26 Z
FRN
1 T (134)S 1 T FRB
(element with the same profile name \(\\fIprofname\\fR\), type name \(\\fItype\\fR\),)S
FIN
0 611.58 540 622.11 SHD
614.74 Z
FRN
1 T (134)S 1 T FIN
(element with the same profile name \( \\fIprofname\\fR\), type name \( \\fItype\\fR\),)S
FRN
604.21 Z
1 T (135)S 1 T (and \\fIid\\fR. Function parameters set to \\fINULL\\fR are not used as part of the)S
593.68 Z
1 T (136)S 1 T (matching criteria. In the event that multiple entries meet the matching)S
583.16 Z
1 T (137)S 1 T (criteria, only a pointer to the first entry is returned. The)S
572.63 Z
1 T (138)S 1 T (\\fBkva_match\\fR\(3SECDB\) function can be used to look up a key in a key-value)S
562.11 Z
1 T (139)S 1 T (array.)S
551.58 Z
1 T (140)S 1 T (.SH RETURN VALUES)S
541.05 Z
1 T (141)S 1 T (.sp)S
530.53 Z
1 T (142)S 1 T (.LP)S
520.00 Z
1 T (143)S 1 T (Those functions returning data only return data related to the active policy.)S
509.47 Z
1 T (144)S 1 T (The \\fBgetexecattr\(\)\\fR function returns a pointer to a  \\fBexecattr_t\\fR if it)S
498.95 Z
1 T (145)S 1 T (successfully enumerates an entry; otherwise it returns \\fINULL\\fR, indicating)S
488.42 Z
1 T (146)S 1 T (the end of the enumeration.)S
477.89 Z
1 T (147)S 1 T (.SH USAGE)S
467.37 Z
1 T (148)S 1 T (.sp)S
456.84 Z
1 T (149)S 1 T (.LP)S
446.32 Z
1 T (150)S 1 T (The \\fBgetexecattr\(\)\\fR, \\fBgetexecuser\(\)\\fR, and \\fBgetexecprof\(\)\\fR functions)S
435.79 Z
1 T (151)S 1 T (all allocate memory for the pointers they return. This memory should be)S
FRB
0 422.11 540 432.63 SHD
425.26 Z
FRN
1 T (152)S 1 T FRB
(deallocated with the \\fBfree_execattr\(\)\\fR call. The \\fBmatch_execattr\(\)\\fR)S
FIN
0 411.58 540 422.11 SHD
414.74 Z
FRN
1 T (152)S 1 T FIN
(deallocated with the \\fBfree_execattr\(\)\\fR call. The \\fBmatch_execattr\(\)\\fR\()S
FRN
404.21 Z
1 T (153)S 1 T (function does not allocate any memory. Therefore, pointers returned by this)S
393.68 Z
1 T (154)S 1 T (function should not be deallocated.)S
383.16 Z
1 T (155)S 1 T (.sp)S
372.63 Z
1 T (156)S 1 T (.LP)S
362.11 Z
1 T (157)S 1 T (Individual attributes may be referenced in the \\fBattr\\fR structure by calling)S
351.58 Z
1 T (158)S 1 T (the \\fBkva_match\\fR\(3SECDB\) function.)S
341.05 Z
1 T (159)S 1 T (.SH EXAMPLES)S
330.53 Z
1 T (160)S 1 T (.LP)S
320.00 Z
1 T (161)S 1 T (\\fBExample 1 \\fRFind all profiles that have the  \\fBping\\fR command.)S
309.47 Z
1 T (162)S 1 T (.sp)S
298.95 Z
1 T (163)S 1 T (.in +2)S
288.42 Z
1 T (164)S 1 T (.nf)S
277.90 Z
1 T (165)S 1 T (if \(\(execprof=getexecprof\(NULL, KV_COMMAND, "/usr/sbin/ping",)S
267.37 Z
1 T (166)S 1 T (    GET_ONE\)\) == NULL\) {)S
256.84 Z
1 T (167)S 1 T (        /* do error */)S
246.32 Z
1 T (168)S 1 T (})S
FIB
235.79 Z
(______unchanged_portion_omitted_)S
FRN
EPG
1 FPG
%%Trailer
%%Pages: 2
